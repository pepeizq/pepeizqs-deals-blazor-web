@page "/cost-web"

@using Microsoft.AspNetCore.Components.Web

@inject IHttpContextAccessor Contexto

@{
	string titulo = Herramientas.Idiomas.BuscarTexto(idioma, "Title", "CostWeb") + " • pepeizq's deals";
	string descripcion = Herramientas.Idiomas.BuscarTexto(idioma, "Subtitle", "CostWeb");
	string enlace = "https://pepeizqdeals.com/cost-web";
	string imagen = "https://pepeizqdeals.com/logo/logoentrada.webp";

	string[] keywordsEnBruto = Herramientas.Buscador.LimpiarNombre(descripcion, false).Split(' ');
	List<string> keywordsLista = new List<string>();
	keywordsLista.AddRange(keywordsEnBruto);

	string keywords = "cost";

	foreach (string keyword in keywordsLista)
	{
		if (keyword.Length > 3 && keywords.Contains(keyword) == false)
		{
			keywords = keywords + ", " + keyword;
		}
	}

	<HeadContent>
		<PageTitle>@titulo</PageTitle>

		<meta name="og:title" Content="@titulo" />
		<meta name="description" content="@descripcion" />
		<meta name="og:description" content="@descripcion" />
		<meta name="og:url" content="@enlace" />
		<meta name="og:image" content="@imagen" />
		<meta name="og:site_name" content="pepeizq's deals" />
		<meta name="og:type" content="website" />
		<meta name="robots" content="index, follow" />
		<meta name="keywords" content="@keywords" />

		<link rel="canonical" href="@enlace" />
	</HeadContent>
}

<style>
	.caja-coste-contenido {
		background-color: var(--fondoSubsubcabecera);
		border: 2px solid var(--fondoSubcabecera);
		padding: 30px;
		box-shadow: 0px 4px 8px 0px rgba(0, 0, 0, 0.28),0px 0px 2px 0px rgba(0, 0, 0, 0.24);
	}
</style>

<div class="subcabecera">
	<div class="cuerpo-ancho sub-subcabecera">
		<h1 style="font-size: 18px; width: fit-content; margin: 0px; padding: 9px 0px;">
			@Herramientas.Idiomas.BuscarTexto(idioma, "Title", "CostWeb")
		</h1>
	</div>
</div>

<div class="subcabecera" style="background-color: var(--fondoSubsubcabecera);">
	<div class="cuerpo-ancho sub-subcabecera" style="padding: 20px 0px;">
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String16", "CostWeb")
		</div>

		@if (saldo >= 0)
		{
			<div style="padding: 5px 10px; background-color: var(--fondoBien);">
				@saldo.ToString().Replace(".", ",") € EUR
			</div>
		}
		else
		{
			<div style="padding: 5px 10px; background-color: var(--fondoPeligro);">
				@saldo.ToString().Replace(".", ",") € EUR
			</div>
		}
	</div>
</div>

<div class="caja-coste-contenido" style="margin: 40px auto;">
	<div>
		@Herramientas.Idiomas.BuscarTexto(idioma, "String1", "CostWeb")
	</div>

	<div style="margin-top: 40px;">
		@Herramientas.Idiomas.BuscarTexto(idioma, "String14", "CostWeb")
	</div>
	
	<hr />

	@Herramientas.Idiomas.BuscarTexto(idioma, "String18", "CostWeb")

	<div style="display: flex; flex-direction: column; gap: 20px; margin-top: 15px;">
		<div style="display: flex; align-items: center; gap: 20px; justify-content: space-between; padding: 10px 15px; background-color: var(--fondoMinimo);">
			<div style="display: flex; align-items: center; gap: 20px;">
				<div style="min-width: 100px; text-align: center;">
					10/3/2025
				</div>

				<div>
					Fanatical Affiliates
				</div>
			</div>

			<div style="padding: 5px 10px; background-color: var(--fondoBien); min-width: 120px; text-align: center;">
				29,91 £ GBP
			</div>
		</div>

		<div style="display: flex; align-items: center; gap: 20px; justify-content: space-between; padding: 10px 15px; background-color: var(--fondoMinimo);">
			<div style="display: flex; align-items: center; gap: 20px;">
				<div style="min-width: 100px; text-align: center;">
					17/11/2024
				</div>

				<div>
					SmarterASP SSL + Extra 1 Static IP (1 Year Extra)
				</div>
			</div>

			<div style="padding: 5px 10px; background-color: var(--fondoPeligro); min-width: 120px; text-align: center;">
				53 $ USD
			</div>
		</div>
	</div>
</div>

<div class="subcabecera" style="background-color: var(--fondoSubsubcabecera);">
	<div class="cuerpo-ancho sub-subcabecera" style="padding: 20px 0px;">
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String17", "CostWeb")
		</div>
	</div>
</div>

<div class="caja-coste-contenido" style="margin: 40px auto; display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px;">
	<div>
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String2", "CostWeb")
		</div>
		<hr />
		<div style="display: flex; flex-direction: column; gap: 20px;">
			<div>
				@Herramientas.Idiomas.BuscarTexto(idioma, "String10", "CostWeb")
			</div>

			<a href="https://www.smarterasp.net/index?r=pepeizq" target="_blank" style="text-decoration: none;">
				<div>
					@(string.Format(Herramientas.Idiomas.BuscarTexto(idioma, "String3", "CostWeb"), "30/1/2027"))
				</div>
			</a>
		</div>
	</div>

	<div>
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String4", "CostWeb")
		</div>
		<hr />
		<div style="display: flex; flex-direction: column; gap: 20px;">
			<div>
				@Herramientas.Idiomas.BuscarTexto(idioma, "String11", "CostWeb")
			</div>

			<a href="https://clientes.webempresa.com/europa/gestion/aff.php?aff=2609" target="_blank" style="text-decoration: none;">
				<div>
					@string.Format(Herramientas.Idiomas.BuscarTexto(idioma, "String5", "CostWeb"), "15/3/2028")
				</div>
			</a>
		</div>
	</div>

	<div>
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String6", "CostWeb")
		</div>
		<hr />
		<div style="display: flex; flex-direction: column; gap: 20px;">
			<div>
				@Herramientas.Idiomas.BuscarTexto(idioma, "String12", "CostWeb")
			</div>

			<a href="https://www.smarterasp.net/index?r=pepeizq" target="_blank" style="text-decoration: none;">
				<div>
					@string.Format(Herramientas.Idiomas.BuscarTexto(idioma, "String7", "CostWeb"), "6/12/2025")
				</div>
			</a>
		</div>
	</div>

	<div>
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String8", "CostWeb")
		</div>
		<hr />
		<div style="display: flex; flex-direction: column; gap: 20px;">
			<div>
				@Herramientas.Idiomas.BuscarTexto(idioma, "String13", "CostWeb")
			</div>

			<a href="https://www.smarterasp.net/index?r=pepeizq" target="_blank" style="text-decoration: none;">
				<div>
					@string.Format(Herramientas.Idiomas.BuscarTexto(idioma, "String9", "CostWeb"), "6/12/2025")
				</div>
			</a>
		</div>
	</div>
</div>

<div class="subcabecera" style="background-color: var(--fondoSubsubcabecera);">
	<div class="cuerpo-ancho sub-subcabecera" style="padding: 20px 0px;">
		<div>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String15", "CostWeb")
		</div>
	</div>
</div>

<div class="caja-coste-contenido" style="margin: 40px auto;">
	<ul>
		<li>
            @Herramientas.Idiomas.BuscarTexto(idioma, "String19", "CostWeb")
		</li>
		<li>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String20", "CostWeb")
		</li>
		<li>
			@Herramientas.Idiomas.BuscarTexto(idioma, "String21", "CostWeb")
		</li>
	</ul>	
</div>

@code {

	#nullable disable

	public double saldo = -14.49;

	private string idioma = "en";
	private string usuarioId = null;

	protected override void OnInitialized()
	{
		Herramientas.ContextoUsuarioDatos datos = Herramientas.ContextoUsuario.Leer(Contexto);
		idioma = datos.Idioma;
		usuarioId = datos.UsuarioId;

		if (string.IsNullOrEmpty(usuarioId) == false)
		{
			idioma = BaseDatos.Usuarios.Buscar.IdiomaSobreescribir(usuarioId);
		}
	}
}
